<button (click)="logout()" class="btn btn-danger">Cerrar sesión</button>
<button *ngIf="authService.isAdmin()" routerLink="/admin/usuarios" class="btn btn-primary">
    Administrar Usuarios
</button>

<div *ngIf="authService.isAdmin()">
  <!-- Subir productos -->
  <input type="file" (change)="onFileSelected($event)" accept=".xlsx" />
  <button (click)="uploadFile()" [disabled]="!selectedFile">Subir Productos</button>

  <!-- Subir precios -->
  <input type="file" (change)="onPriceFileSelected($event)" accept=".xlsx" />
  <button (click)="uploadPrices()" [disabled]="!selectedPriceFile">Subir Precios</button>
</div>

<div class="container mt-4">
  <h2>Catálogo de Productos</h2>

  <div class="row">
    <!-- Tabla de productos -->
    <div class="col-md-8">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Prefijo</th>
            <th>Código</th>
            <th>Marca</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products" (click)="selectProduct(product._id)" style="cursor: pointer;">
            <td>{{ product.Prefijo }}</td>
            <td>{{ product.Codigo }}</td>
            <td>{{ product.MARCA }}</td>
          </tr>
        </tbody>
      </table>
    </div>



    
  
    <!-- Paginación -->
    <div class="pagination">
      <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">
        Anterior
      </button>
      <span>Página {{ currentPage }}</span>
      <button (click)="changePage(currentPage + 1)">Siguiente</button>
    </div>
  </div>
  



      <!-- Detalle del producto -->
      <div class="col-md-4" *ngIf="selectedProduct">
        <div class="card">
          <div class="card-header">
            <h5>Detalle del Producto</h5>
          </div>
          <div class="card-body">
            <img
              *ngIf="selectedProduct.ImagenUrl"
              [src]="selectedProduct.ImagenUrl"
              alt="Imagen del producto"
              class="img-fluid mb-3"
            />
  
            <p><strong>Imagen:</strong></p>
            <img [src]="selectedProduct.Imagen" alt="Imagen del producto" width="150" height="150">          
            <p><strong>Nombre:</strong> {{ selectedProduct.Nombre }}</p>
            <p><strong>Nombre:</strong> {{ selectedProduct.NombreRubro }}</p>
            <p><strong>Precio:</strong> 
              {{ selectedProduct?.Precio ?? selectedProduct?.PrecioLista1 ?? selectedProduct?.PrecioLista2 | currency }}
            </p>
            
            


            <p><strong>Interior:</strong> {{ selectedProduct.INTERIOR }}</p>
            <p><strong>Exterior:</strong> {{ selectedProduct.EXTERIOR }}</p>
            <p><strong>Ancho:</strong> {{ selectedProduct.ANCHO }}</p>
            <p><strong>Observacion:</strong> {{ selectedProduct.Observacion }}</p>
          </div>
        </div>
      </div>
    </div>
  